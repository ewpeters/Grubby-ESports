(function(d){function a(f){return(!f||/^\s*$/.test(f))}String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};function c(f){if(d(f)){var g=d(f).val();d(f).focusin(function(){if(d(this).val().trim()==g.trim()){d(this).val("")}});d(f).focusout(function(){if(a(d(this).val())){d(this).val(g)}});return g}}d(document).ready(function(){d("#ad_banner").click(function(f){console.log("hey");f.stopPropagation()});if(d("#Article")){d("#Article").removeAttr("checked")}c("#search_input");if(d("login")){d("#login").focus(function(){d("#password_div").removeClass("hidden");d("#password").removeClass("hidden");d("#login-form").addClass("shown")})}d("body").click(function(f){if(!d(f.target).closest("#login-form").length){d("#password_div").addClass("hidden");d("#password").addClass("hidden");d("#login-form").removeClass("shown")}});d(".embed_video").click(function(){d(".video_title").html(d(this).attr("title"));d(".video_summary").html(d(this).attr("summary"));d("#video_type").html(d(this).attr("type"));d("#embed").html(d(this).attr("embed_source"));if(d(this).attr("type")=="You Tube"){d("#chat").remove();d("#pop_up").remove()}else{d("#chat").attr("chat_code",d(this).attr("chat_code"));d("#pop_up").attr("chat_code",d(this).attr("chat_code"))}d(".tv_item").hide();d("#video_player").toggleClass("hidden")});d("#fb_connect").click(function(){b()});d(".icon.warcraft").click(function(){d(this).toggleClass("true");e("warcraft_3")});d(".icon.starcraft").click(function(){d(this).toggleClass("true");e("starcraft_2")});d(".add_more").click(function(){var f=d(".pic").last().clone();f.children().val("");d(".pic").last().after(f)});d(".album_thumb").click(function(){d.ajax({type:"GET",url:"/albums/"+d(this).attr("id")+".js",success:function(f){d(".ajax-replace").html(f.html)},error:function(f){}});return false})});function e(f){d("div[game="+f+"]").toggleClass("hidden")}function b(){FB.login(function(f){if(f.session){var g=d("#fb_form");g.find("#access_token").val(f.session.access_token);g.find("#uid").val(f.session.uid);g.submit()}})}})(jQuery);function popitup(a){newwindow=window.open(a,"name","height=500,width=500");if(window.focus){newwindow.focus()}return false}if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(f,d,n,g,j,m,l,o,i,a,e){if(!document.createElement||!document.getElementById){return}this.DETECT_KEY=e?e:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(f){this.setAttribute("swf",f)}if(d){this.setAttribute("id",d)}if(n){this.setAttribute("width",n)}if(g){this.setAttribute("height",g)}if(j){this.setAttribute("version",new deconcept.PlayerVersion(j.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion(this.getAttribute("version"),l);if(m){this.addParam("bgcolor",m)}var b=o?o:"high";this.addParam("quality",b);this.setAttribute("useExpressInstall",l);this.setAttribute("doExpressInstall",false);var k=(i)?i:window.location;this.setAttribute("xiRedirectUrl",k);this.setAttribute("redirectUrl","");if(a){this.setAttribute("redirectUrl",a)}};deconcept.SWFObject.prototype={setAttribute:function(a,b){this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]},addParam:function(a,b){this.params[a]=b},getParams:function(){return this.params},addVariable:function(a,b){this.variables[a]=b},getVariable:function(a){return this.variables[a]},getVariables:function(){return this.variables},getVariablePairs:function(){var a=new Array();var b;var c=this.getVariables();for(b in c){a.push(b+"="+c[b])}return a},getSWFHTML:function(){var d="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn")}d='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'"';d+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var c=this.getParams();for(var a in c){d+=[a]+'="'+c[a]+'" '}var b=this.getVariablePairs().join("&");if(b.length>0){d+='flashvars="'+b+'"'}d+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX")}d='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'">';d+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var c=this.getParams();for(var a in c){d+='<param name="'+a+'" value="'+c[a]+'" />'}var b=this.getVariablePairs().join("&");if(b.length>0){d+='<param name="flashvars" value="'+b+'" />'}d+="</object>"}return d},write:function(a){if(this.getAttribute("useExpressInstall")){var b=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(b)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var c=(typeof a=="string")?document.getElementById(a):a;c.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(h,f){var b=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description){b=new deconcept.PlayerVersion(a.description.replace(/([a-z]|[A-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{try{var d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");for(var c=3;d!=null;c++){d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+c);b=new deconcept.PlayerVersion([c,0,0])}}catch(g){}if(h&&b.major>h.major){return b}if(!h||((h.minor!=0||h.rev!=0)&&b.major==h.major)||b.major!=6||f){try{b=new deconcept.PlayerVersion(d.GetVariable("$version").split(" ")[1].split(","))}catch(g){}}}return b};deconcept.PlayerVersion=function(a){this.major=parseInt(a[0])!=null?parseInt(a[0]):0;this.minor=parseInt(a[1])||0;this.rev=parseInt(a[2])||0};deconcept.PlayerVersion.prototype.versionIsValid=function(a){if(this.major<a.major){return false}if(this.major>a.major){return true}if(this.minor<a.minor){return false}if(this.minor>a.minor){return true}if(this.rev<a.rev){return false}return true};deconcept.util={getRequestParameter:function(d){var b=document.location.search||document.location.hash;if(b){var c=b.indexOf(d+"=");var a=(b.indexOf("&",c)>-1)?b.indexOf("&",c):b.length;if(b.length>1&&c>-1){return b.substring(b.indexOf("=",c)+1,a)}}return""}};if(Array.prototype.push==null){Array.prototype.push=function(a){this[this.length]=a;return this.length}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;(function(b){var a=window.console?window.console:{log:b.noop,error:function(d){b.error(d)}};function c(){this.controls={bold:{groupIndex:0,visible:true,tags:["b","strong"],css:{fontFamily:"cgothb"},tooltip:"Bold",hotkey:{ctrl:1,key:66}},copy:{groupIndex:8,visible:false,tooltip:"Copy"},createLink:{groupIndex:6,visible:true,exec:function(){var d=this;if(b.wysiwyg.controls&&b.wysiwyg.controls.link){b.wysiwyg.controls.link.init(this)}else{if(b.wysiwyg.autoload){b.wysiwyg.autoload.control("wysiwyg.link.js",function(){d.controls.createLink.exec.apply(d)})}else{a.error("$.wysiwyg.controls.link not defined. You need to include wysiwyg.link.js file")}}},tags:["a"],tooltip:"Create link"},cut:{groupIndex:8,visible:false,tooltip:"Cut"},decreaseFontSize:{groupIndex:9,visible:false&&!(b.browser.msie),tags:["small"],tooltip:"Decrease font size"},h1:{groupIndex:7,visible:true,className:"h1",command:(b.browser.msie||b.browser.safari)?"FormatBlock":"heading","arguments":(b.browser.msie||b.browser.safari)?"<h1>":"h1",tags:["h1"],tooltip:"Header 1"},h2:{groupIndex:7,visible:true,className:"h2",command:(b.browser.msie||b.browser.safari)?"FormatBlock":"heading","arguments":(b.browser.msie||b.browser.safari)?"<h2>":"h2",tags:["h2"],tooltip:"Header 2"},h3:{groupIndex:7,visible:true,className:"h3",command:(b.browser.msie||b.browser.safari)?"FormatBlock":"heading","arguments":(b.browser.msie||b.browser.safari)?"<h3>":"h3",tags:["h3"],tooltip:"Header 3"},html:{groupIndex:10,visible:false,exec:function(){if(this.viewHTML){this.setContent(b(this.original).val());b(this.original).hide();this.editor.show();this.ui.toolbar.find("li").each(function(){var d=b(this);if(d.hasClass("html")){d.removeClass("active")}else{d.attr("disabled","false")}})}else{this.saveContent();b(this.original).css({width:this.element.outerWidth()-6,height:this.element.height()-this.ui.toolbar.height()-6,resize:"none"}).show();this.editor.hide();this.ui.toolbar.find("li").each(function(){var d=b(this);if(d.hasClass("html")){d.addClass("active")}else{if(false===d.hasClass("fullscreen")){d.removeClass("active");d.attr("disabled","true")}}})}this.viewHTML=!(this.viewHTML)},tooltip:"View source code"},increaseFontSize:{groupIndex:9,visible:false&&!(b.browser.msie),tags:["big"],tooltip:"Increase font size"},indent:{groupIndex:2,visible:true,tooltip:"Indent"},insertHorizontalRule:{groupIndex:6,visible:true,tags:["hr"],tooltip:"Insert Horizontal Rule"},insertImage:{groupIndex:6,visible:true,exec:function(){var d=this;if(b.wysiwyg.controls&&b.wysiwyg.controls.image){b.wysiwyg.controls.image.init(this)}else{if(b.wysiwyg.autoload){b.wysiwyg.autoload.control("wysiwyg.image.js",function(){d.controls.insertImage.exec.apply(d)})}else{a.error("$.wysiwyg.controls.image not defined. You need to include wysiwyg.image.js file")}}},tags:["img"],tooltip:"Insert image"},insertOrderedList:{groupIndex:5,visible:true,tags:["ol"],tooltip:"Insert Ordered List"},insertTable:{groupIndex:6,visible:true,exec:function(){var d=this;if(b.wysiwyg.controls&&b.wysiwyg.controls.table){b.wysiwyg.controls.table(this)}else{if(b.wysiwyg.autoload){b.wysiwyg.autoload.control("wysiwyg.table.js",function(){d.controls.insertTable.exec.apply(d)})}else{a.error("$.wysiwyg.controls.table not defined. You need to include wysiwyg.table.js file")}}},tags:["table"],tooltip:"Insert table"},insertUnorderedList:{groupIndex:5,visible:true,tags:["ul"],tooltip:"Insert Unordered List"},italic:{groupIndex:0,visible:true,tags:["i","em"],css:{fontStyle:"italic"},tooltip:"Italic",hotkey:{ctrl:1,key:73}},justifyCenter:{groupIndex:1,visible:true,tags:["center"],css:{textAlign:"center"},tooltip:"Justify Center"},justifyFull:{groupIndex:1,visible:true,css:{textAlign:"justify"},tooltip:"Justify Full"},justifyLeft:{visible:true,groupIndex:1,css:{textAlign:"left"},tooltip:"Justify Left"},justifyRight:{groupIndex:1,visible:true,css:{textAlign:"right"},tooltip:"Justify Right"},ltr:{groupIndex:10,visible:false,exec:function(){var d=this.getInternalRange(),e=this.dom.getElement("p");if(!e){return false}b(e).attr("dir","ltr")},tooltip:"Left to Right"},outdent:{groupIndex:2,visible:true,tooltip:"Outdent"},paragraph:{groupIndex:7,visible:false,className:"paragraph",command:"FormatBlock","arguments":(b.browser.msie||b.browser.safari)?"<p>":"p",tags:["p"],tooltip:"Paragraph"},paste:{groupIndex:8,visible:false,tooltip:"Paste"},redo:{groupIndex:4,visible:true,tooltip:"Redo"},removeFormat:{groupIndex:10,visible:true,exec:function(){this.removeFormat()},tooltip:"Remove formatting"},rtl:{groupIndex:10,visible:false,exec:function(){var d=this.getInternalRange(),e=this.dom.getElement("p");if(!e){return false}b(e).attr("dir","rtl")},tooltip:"Right to Left"},strikeThrough:{groupIndex:0,visible:true,tags:["s","strike"],css:{textDecoration:"line-through"},tooltip:"Strike-through"},subscript:{groupIndex:3,visible:true,tags:["sub"],tooltip:"Subscript"},superscript:{groupIndex:3,visible:true,tags:["sup"],tooltip:"Superscript"},underline:{groupIndex:0,visible:true,tags:["u"],css:{textDecoration:"underline"},tooltip:"Underline",hotkey:{ctrl:1,key:85}},undo:{groupIndex:4,visible:true,tooltip:"Undo"}};this.defaults={html:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body style="margin: 0px;">INITIAL_CONTENT</body></html>',debug:false,controls:{},css:{},events:{},autoGrow:false,autoload:{css:["jquery.wysiwyg.css","jquery.wysiwyg.modal.css"]},autoSave:true,brIE:true,formHeight:440,formWidth:440,i18n:false,iFrameClass:null,initialContent:"",maxHeight:10000,messages:{nonSelection:"Select the text you wish to link"},toolbarHtml:'<ul role="menu" class="toolbar"></ul>',removeHeadings:false,replaceDivWithP:false,resizeOptions:false,rmMsWordMarkup:false,rmUnusedControls:false,rmUnwantedBr:true,tableFiller:"Lorem ipsum"};this.availableControlProperties=["arguments","callback","className","command","css","custom","exec","groupIndex","hotkey","icon","tags","tooltip","visible"];this.editor=null;this.editorDoc=null;this.element=null;this.options={};this.original=null;this.savedRange=null;this.timers=[];this.dom={ie:{parent:null},w3c:{parent:null}};this.dom.parent=this;this.dom.ie.parent=this.dom;this.dom.w3c.parent=this.dom;this.ui={};this.ui.self=this;this.ui.toolbar=null;this.ui.initialHeight=null;this.dom.getAncestor=function(d,e){e=e.toLowerCase();while(d&&"body"!==d.tagName.toLowerCase()){if(e===d.tagName.toLowerCase()){return d}d=d.parentNode}return null};this.dom.getElement=function(e){var d=this;if(window.getSelection){return d.w3c.getElement(e)}else{return d.ie.getElement(e)}};this.dom.ie.getElement=function(h){var g=this.parent,f=g.parent.getInternalSelection(),d=f.createRange(),e;if("Control"===f.type){if(1===d.length){e=d.item(0)}else{return null}}else{e=d.parentElement()}return g.getAncestor(e,h)};this.dom.w3c.getElement=function(g){var f=this.parent,d=f.parent.getInternalRange(),e;if(!d){return null}e=d.commonAncestorContainer;if(3===e.nodeType){e=e.parentNode}if(e===d.startContainer){e=e.childNodes[d.startOffset]}return f.getAncestor(e,g)};this.ui.addHoverClass=function(){b(this).addClass("wysiwyg-button-hover")};this.ui.appendControls=function(){var j=this,m=this.self,l=m.parseControls(),k=true,d=[],e={},f,g,h=function(n,i){if(i.groupIndex&&g!==i.groupIndex){g=i.groupIndex;k=false}if(!i.visible){return}if(!k){j.appendItemSeparator();k=true}if(i.custom){j.appendItemCustom(n,i)}else{j.appendItem(n,i)}};b.each(l,function(n,o){var i="empty";if(undefined!==o.groupIndex){if(""===o.groupIndex){i="empty"}else{i=o.groupIndex}}if(undefined===e[i]){d.push(i);e[i]={}}e[i][n]=o});d.sort(function(n,i){if("number"===typeof(n)&&typeof(n)===typeof(i)){return(n-i)}else{n=""+n;i=""+i;if(n>i){return 1}if(n===i){return 0}return -1}});if(0<d.length){g=d[0]}for(f=0;f<d.length;f+=1){b.each(e[d[f]],h)}};this.ui.appendItem=function(e,h){var d=this.self,f=h.className||h.command||e||"empty",g=h.tooltip||h.command||e||"";if(b.wysiwyg.i18n){g=b.wysiwyg.i18n.t(g,"controls")}return b('<li role="menuitem" unselectable="on">'+(f)+"</li>").addClass(f).attr("title",g).hover(this.addHoverClass,this.removeHoverClass).click(function(){if("true"===b(this).attr("disabled")){return false}d.triggerControl.apply(d,[e,h]);this.blur();d.ui.returnRange();d.ui.focus()}).appendTo(d.ui.toolbar)};this.ui.appendItemCustom=function(e,g){var d=this.self,f=g.tooltip||g.command||e||"";if(b.wysiwyg.i18n){f=b.wysiwyg.i18n.t(f,"controls")}if(g.callback){b(window).bind("trigger-"+e+".wysiwyg",g.callback)}return b('<li role="menuitem" unselectable="on" style="background: url(\''+g.icon+"') no-repeat;\"></li>").addClass("custom-command-"+e).addClass("wysiwyg-custom-command").addClass(e).attr("title",g.tooltip).hover(this.addHoverClass,this.removeHoverClass).click(function(){if("true"===b(this).attr("disabled")){return false}d.triggerControl.apply(d,[e,g]);this.blur();d.ui.returnRange();d.ui.focus();d.triggerControlCallback(e)}).appendTo(d.ui.toolbar)};this.ui.appendItemSeparator=function(){var d=this.self;return b('<li role="separator" class="separator"></li>').appendTo(d.ui.toolbar)};this.autoSaveFunction=function(){this.saveContent()};this.ui.checkTargets=function(e){var d=this.self;b.each(d.options.controls,function(g,k){var j=k.className||k.command||g||"empty",f,m,h,i,l=function(o,n){var q;if("function"===typeof(n)){q=n;if(q(i.css(o).toString().toLowerCase(),d)){d.ui.toolbar.find("."+j).addClass("active")}}else{if(i.css(o).toString().toLowerCase()===n){d.ui.toolbar.find("."+j).addClass("active")}}};if("fullscreen"!==j){d.ui.toolbar.find("."+j).removeClass("active")}if(k.tags||(k.options&&k.options.tags)){f=k.tags||(k.options&&k.options.tags);m=e;while(m){if(m.nodeType!==1){break}if(b.inArray(m.tagName.toLowerCase(),f)!==-1){d.ui.toolbar.find("."+j).addClass("active")}m=m.parentNode}}if(k.css||(k.options&&k.options.css)){h=k.css||(k.options&&k.options.css);i=b(e);while(i){if(i[0].nodeType!==1){break}b.each(h,l);i=i.parent()}}})};this.ui.designMode=function(){var e=3,d=this.self,f=function(g){if("on"===d.editorDoc.designMode){if(d.timers.designMode){window.clearTimeout(d.timers.designMode)}if(d.innerDocument()!==d.editorDoc){d.ui.initFrame()}return}try{d.editorDoc.designMode="on"}catch(h){}g-=1;if(g>0){d.timers.designMode=window.setTimeout(function(){f(g)},100)}};f(e)};this.destroy=function(){var e,d=this.element.closest("form");for(e=0;e<this.timers.length;e+=1){window.clearTimeout(this.timers[e])}d.unbind(".wysiwyg");this.element.remove();b.removeData(this.original,"wysiwyg");b(this.original).show();return this};this.getRangeText=function(){var d=this.getInternalRange();if(d.toString){d=d.toString()}else{if(d.text){d=d.text}}return d};this.execute=function(e,d){if(typeof(d)==="undefined"){d=null}this.editorDoc.execCommand(e,false,d)};this.extendOptions=function(e){var d={},f=[];if("object"===typeof e.controls){d=e.controls;delete e.controls}e=b.extend(true,{},this.defaults,e);e.controls=b.extend(true,this.controls,d);if(e.rmUnusedControls){b.each(e.controls,function(g){if(!d[g]){f.push(g)}});b.each(f,function(g){delete e.controls[f[g]]})}return e};this.ui.focus=function(){var d=this.self;d.editor.get(0).contentWindow.focus();return d};this.ui.returnRange=function(){var d=this.self,f;if(d.savedRange!==null){if(window.getSelection){f=window.getSelection();if(f.rangeCount>0){f.removeAllRanges()}try{f.addRange(d.savedRange)}catch(g){a.error(g)}}else{if(window.document.createRange){window.getSelection().addRange(d.savedRange)}else{if(window.document.selection){d.savedRange.select()}}}d.savedRange=null}};this.getContent=function(){return this.editorDoc.body.innerHTML};this.getElementByAttributeValue=function(f,d,g){var e,j,h=this.editorDoc.getElementsByTagName(f);for(e=0;e<h.length;e+=1){j=h[e].getAttribute(d);if(b.browser.msie){j=j.substr(j.length-g.length)}if(j===g){return h[e]}}return false};this.getInternalRange=function(){var d=this.getInternalSelection();if(!d){return null}if(d.rangeCount&&d.rangeCount>0){return d.getRangeAt(0)}else{if(d.createRange){return d.createRange()}}return null};this.getInternalSelection=function(){if(this.editor.get(0).contentWindow){if(this.editor.get(0).contentWindow.getSelection){return this.editor.get(0).contentWindow.getSelection()}if(this.editor.get(0).contentWindow.selection){return this.editor.get(0).contentWindow.selection}}if(this.editorDoc.getSelection){return this.editorDoc.getSelection()}if(this.editorDoc.selection){return this.editorDoc.selection}return null};this.getRange=function(){var d=this.getSelection();if(!d){return null}if(d.rangeCount&&d.rangeCount>0){d.getRangeAt(0)}else{if(d.createRange){return d.createRange()}}return null};this.getSelection=function(){return(window.getSelection)?window.getSelection():window.document.selection};this.ui.grow=function(){var e=this.self,h=b(e.editorDoc.body),g=b.browser.msie?h[0].scrollHeight:h.height()+2+20,f=e.ui.initialHeight,d=Math.max(g,f);d=Math.min(d,e.options.maxHeight);e.editor.attr("scrolling",d<e.options.maxHeight?"no":"auto");h.css("overflow",d<e.options.maxHeight?"hidden":"");e.editor.get(0).height=d;return e};this.init=function(h,f){var e=this,d=b(h).closest("form"),k=h.width||h.clientWidth||0,j=h.height||h.clientHeight||0,g;this.options=this.extendOptions(f);this.original=h;this.ui.toolbar=b(this.options.toolbarHtml);if(this.options.autoload){if(b.wysiwyg.autoload){if(this.options.autoload.css){for(g=0;g<this.options.autoload.css.length;g+=1){b.wysiwyg.autoload.css(this.options.autoload.css[g])}}}}if(this.options.i18n&&b.wysiwyg.i18n){b.wysiwyg.i18n.init(this,this.options.i18n)}if(b.browser.msie&&parseInt(b.browser.version,10)<8){this.options.autoGrow=false}if(k===0&&h.cols){k=(h.cols*8)+21}if(j===0&&h.rows){j=(h.rows*16)+16}this.editor=b(window.location.protocol==="https:"?'<iframe src="javascript:false;"></iframe>':"<iframe></iframe>").attr("frameborder","0");if(this.options.iFrameClass){this.editor.addClass(this.options.iFrameClass)}else{this.editor.css({minHeight:(j-6).toString()+"px",width:(k>50)?(k-8).toString()+"px":""});if(b.browser.msie&&parseInt(b.browser.version,10)<7){this.editor.css("height",j.toString()+"px")}}this.editor.attr("tabindex",b(h).attr("tabindex"));this.element=b("<div/>").addClass("wysiwyg");if(!this.options.iFrameClass){this.element.css({width:(k>0)?k.toString()+"px":"100%"})}b(h).hide().before(this.element);this.viewHTML=false;this.initialContent=b(h).val();this.ui.initFrame();if(this.options.resizeOptions&&b.fn.resizable){this.element.resizable(b.extend(true,{alsoResize:this.editor},this.options.resizeOptions))}if(this.options.autoSave){d.bind("submit.wysiwyg",function(){e.autoSaveFunction()})}d.bind("reset.wysiwyg",function(){e.resetFunction()})};this.ui.initFrame=function(){var d=this.self,f,g,e;d.ui.appendControls();d.element.append(d.ui.toolbar).append(b("<div><!-- --></div>").css({clear:"both"})).append(d.editor);d.editorDoc=d.innerDocument();d.ui.designMode();d.editorDoc.open();d.editorDoc.write(d.options.html.replace(/INITIAL_CONTENT/,function(){return d.wrapInitialContent()}));d.editorDoc.close();b(d.editorDoc).bind("click.wysiwyg",function(h){d.ui.checkTargets(h.target?h.target:h.srcElement)});b(d.original).focus(function(){if(b(this).filter(":visible")){return}d.ui.focus()});b(d.editorDoc).keydown(function(h){var i=/^<([\w]+)[^>]*>(<br\/?>)?<\/\1>/;if(h.keyCode===8){if(i.test(d.getContent())){h.stopPropagation();return false}}return true});if(!b.browser.msie){b(d.editorDoc).keydown(function(h){var i;if(h.ctrlKey||h.metaKey){for(i in d.controls){if(d.controls[i].hotkey&&d.controls[i].hotkey.ctrl){if(h.keyCode===d.controls[i].hotkey.key){d.triggerControl.apply(d,[i,d.controls[i]]);return false}}}}return true})}else{if(d.options.brIE){b(d.editorDoc).keydown(function(i){if(i.keyCode===13){var h=d.getRange();h.pasteHTML("<br/>");h.collapse(false);h.select();return false}return true})}}if(d.options.rmMsWordMarkup){b(d.editorDoc).bind("keyup.wysiwyg",function(h){if(h.ctrlKey||h.metaKey){if(86===h.keyCode){if(d.options.rmMsWordMarkup){if(b.wysiwyg.rmFormat){if("object"===typeof(d.options.rmMsWordMarkup)){b.wysiwyg.rmFormat.run(d,{rules:{msWordMarkup:d.options.rmMsWordMarkup}})}else{b.wysiwyg.rmFormat.run(d,{rules:{msWordMarkup:{enabled:true}}})}}}}}})}if(d.options.autoSave){b(d.editorDoc).keydown(function(){d.autoSaveFunction()}).keyup(function(){d.autoSaveFunction()}).mousedown(function(){d.autoSaveFunction()}).bind(b.support.noCloneEvent?"input.wysiwyg":"paste.wysiwyg",function(){d.autoSaveFunction()})}if(d.options.autoGrow){d.ui.initialHeight=b(d.editorDoc).height();b(d.editorDoc.body).css("border","1px solid white");g=function(){d.ui.grow()};b(d.editorDoc).keyup(g);b(d.editorDoc).bind("wysiwyg:refresh",g);d.ui.grow()}if(d.options.css){if(String===d.options.css.constructor){if(b.browser.msie){f=d.editorDoc.createStyleSheet(d.options.css);b(f).attr({media:"all"})}else{f=b("<link/>").attr({href:d.options.css,media:"all",rel:"stylesheet",type:"text/css"});b(d.editorDoc).find("head").append(f)}}else{d.timers.initFrame_Css=window.setTimeout(function(){b(d.editorDoc.body).css(d.options.css)},0)}}if(d.initialContent.length===0){if("function"===typeof(d.options.initialContent)){d.setContent(d.options.initialContent())}else{d.setContent(d.options.initialContent)}}b.each(d.options.events,function(h,i){b(d.editorDoc).bind(h+".wysiwyg",i)});if(b.browser.msie){b(d.editorDoc).bind("beforedeactivate.wysiwyg",function(){d.savedRange=d.getInternalRange()})}else{b(d.editorDoc).bind("blur.wysiwyg",function(){d.savedRange=d.getInternalRange()})}b(d.editorDoc.body).addClass("wysiwyg");if(d.options.events&&d.options.events.save){e=d.options.events.save;b(d.editorDoc).bind("keyup.wysiwyg",e);b(d.editorDoc).bind("change.wysiwyg",e);if(b.support.noCloneEvent){b(d.editorDoc).bind("input.wysiwyg",e)}else{b(d.editorDoc).bind("paste.wysiwyg",e);b(d.editorDoc).bind("cut.wysiwyg",e)}}};this.innerDocument=function(){var d=this.editor.get(0);if(d.nodeName.toLowerCase()==="iframe"){if(d.contentDocument){return d.contentDocument}else{if(d.contentWindow){return d.contentWindow.document}}a.error("Unexpected error in innerDocument")}return d};this.insertHtml=function(d){var e;if(!d||d.length===0){return this}if(b.browser.msie){this.ui.focus();this.editorDoc.execCommand("insertImage",false,"#jwysiwyg#");e=this.getElementByAttributeValue("img","src","#jwysiwyg#");if(e){b(e).replaceWith(d)}}else{this.editorDoc.execCommand("insertHTML",false,d)}return this};this.parseControls=function(){var d=this;b.each(this.options.controls,function(f,e){b.each(e,function(g){if(-1===b.inArray(g,d.availableControlProperties)){throw f+'["'+g+'"]: property "'+g+'" not exists in Wysiwyg.availableControlProperties'}})});if(this.options.parseControls){return this.options.parseControls.call(this)}return this.options.controls};this.removeFormat=function(){if(b.browser.msie){this.ui.focus()}if(this.options.removeHeadings){this.editorDoc.execCommand("formatBlock",false,"<p>")}this.editorDoc.execCommand("removeFormat",false,null);this.editorDoc.execCommand("unlink",false,null);if(b.wysiwyg.rmFormat&&b.wysiwyg.rmFormat.enabled){b.wysiwyg.rmFormat.run(this)}return this};this.ui.removeHoverClass=function(){b(this).removeClass("wysiwyg-button-hover")};this.resetFunction=function(){this.setContent(this.initialContent);this.saveContent()};this.saveContent=function(){if(this.original){var d;if(this.viewHTML){this.setContent(b(this.original).val())}d=this.getContent();if(this.options.rmUnwantedBr){d=d.replace(/<br\/?>$/,"")}if(this.options.replaceDivWithP){newContent=b("<div/>").addClass("temp").append(d);newContent.children("div").each(function(){var f=b(this),g=f.find("p"),e;if(0===g.length){g=b("<p></p>");if(this.attributes.length>0){for(e=0;e<this.attributes.length;e+=1){g.attr(this.attributes[e].name,f.attr(this.attributes[e].name))}}g.append(f.html());f.replaceWith(g)}});d=newContent.html()}b(this.original).val(d);if(this.options.events&&this.options.events.save){this.options.events.save.call(this)}}return this};this.setContent=function(d){this.editorDoc.body.innerHTML=d;return this};this.triggerControl=function(f,i){var g=i.command||f,d=i["arguments"]||[];if(i.exec){i.exec.apply(this)}else{this.ui.focus();this.ui.withoutCss();try{this.editorDoc.execCommand(g,false,d)}catch(h){a.error(h)}}if(this.options.autoSave){this.autoSaveFunction()}};this.triggerControlCallback=function(d){b(window).trigger("trigger-"+d+".wysiwyg",[this])};this.ui.withoutCss=function(){var d=this.self;if(b.browser.mozilla){try{d.editorDoc.execCommand("styleWithCSS",false,false)}catch(g){try{d.editorDoc.execCommand("useCSS",false,true)}catch(f){}}}return d};this.wrapInitialContent=function(){var d=this.initialContent,e=d.match(/<\/?p>/gi);if(!e){return"<p>"+d+"</p>"}else{}return d}}b.wysiwyg={addControl:function(e,d,f){if("object"!==typeof(e)||!e.context){e=this}if(!e.each){a.error("Something goes wrong, check object")}return e.each(function(){var g=b(this).data("wysiwyg"),i={},h;if(!g){return this}i[d]=b.extend(true,{visible:true,custom:true},f);b.extend(true,g.controls,i);h=b(g.options.toolbarHtml);g.ui.toolbar.replaceWith(h);g.ui.toolbar=h;g.ui.appendControls()})},clear:function(d){if("object"!==typeof(d)||!d.context){d=this}if(!d.each){a.error("Something goes wrong, check object")}return d.each(function(){var e=b(this).data("wysiwyg");if(!e){return this}e.setContent("");e.saveContent()})},console:a,destroy:function(d){if("object"!==typeof(d)||!d.context){d=this}if(!d.each){a.error("Something goes wrong, check object")}return d.each(function(){var e=b(this).data("wysiwyg");if(!e){return this}e.destroy()})},document:function(e){if("object"!==typeof(e)||!e.context){e=this}if(!e.each){a.error("Something goes wrong, check object")}var d=e.data("wysiwyg");if(!d){return undefined}return b(d.editorDoc)},getContent:function(e){if("object"!==typeof(e)||!e.context){e=this}if(!e.each){a.error("Something goes wrong, check object")}var d=e.data("wysiwyg");if(!d){return undefined}return d.getContent()},init:function(e,d){if("object"!==typeof(e)||!e.context){e=this}if(!e.each){a.error("Something goes wrong, check object")}return e.each(function(){var f=b.extend(true,{},d),g;if(("textarea"!==this.nodeName.toLowerCase())||b(this).data("wysiwyg")){return}g=new c();g.init(this,f);b.data(this,"wysiwyg",g)})},insertHtml:function(e,d){if("object"!==typeof(e)||!e.context){e=this}if(!e.each){a.error("Something goes wrong, check object")}return e.each(function(){var f=b(this).data("wysiwyg");if(!f){return this}f.insertHtml(d)})},plugin:{exists:function(d){var e;if("string"!==typeof(d)){return false}e=this.parseName(d);if(!b.wysiwyg[e.name]){return false}if(!b.wysiwyg[e.name][e.method]){return false}return true},parseName:function(d){var e;if("string"!==typeof(d)){return false}e=d.split(".");if(2>e.length){return false}return{name:e[0],method:e[1]}},register:function(d){if(!d.name){a.error("Plugin name missing")}b.each(b.wysiwyg,function(e){if(e===d.name){a.error("Plugin with name '"+d.name+"' was already registered")}});b.wysiwyg[d.name]=d;return true}},removeFormat:function(d){if("object"!==typeof(d)||!d.context){d=this}if(!d.each){a.error("Something goes wrong, check object")}return d.each(function(){var e=b(this).data("wysiwyg");if(!e){return this}e.removeFormat()})},save:function(d){if("object"!==typeof(d)||!d.context){d=this}if(!d.each){a.error("Something goes wrong, check object")}return d.each(function(){var e=b(this).data("wysiwyg");if(!e){return this}e.saveContent()})},setContent:function(e,d){if("object"!==typeof(e)||!e.context){e=this}if(!e.each){a.error("Something goes wrong, check object")}return e.each(function(){var f=b(this).data("wysiwyg");if(!f){return this}f.setContent(d);f.saveContent()})},triggerControl:function(d,e){if("object"!==typeof(d)||!d.context){d=this}if(!d.each){a.error("Something goes wrong, check object")}return d.each(function(){var f=b(this).data("wysiwyg");if(!f){return this}if(!f.controls[e]){a.error("Control '"+e+"' not exists")}f.triggerControl.apply(f,[e,f.controls[e]])})},utils:{extraSafeEntities:[["<",">","'",'"'," "],[32]],encodeEntities:function(g){var e=this,d,f=[];if(this.extraSafeEntities[1].length===0){b.each(this.extraSafeEntities[0],function(h,j){e.extraSafeEntities[1].push(j.charCodeAt())})}d=g.split("");b.each(d,function(h){var j=d[h].charCodeAt();if(b.inArray(j,e.extraSafeEntities[1])&&(j<65||j>127||(j>90&&j<97))){f.push("&#"+j+";")}else{f.push(d[h])}});return f.join("")}}};b.fn.wysiwyg=function(f){var d=arguments,e;if("undefined"!==typeof b.wysiwyg[f]){d=Array.prototype.concat.call([d[0]],[undefined],Array.prototype.slice.call(d,1));return b.wysiwyg[f].apply(this,Array.prototype.slice.call(d,1))}else{if("object"===typeof f||!f){Array.prototype.unshift.call(d,undefined);return b.wysiwyg.init.apply(this,d)}else{if(b.wysiwyg.plugin.exists(f)){e=b.wysiwyg.plugin.parseName(f);d=Array.prototype.concat.call([d[0]],[undefined],Array.prototype.slice.call(d,1));return b.wysiwyg[e.name][e.method].apply(this,Array.prototype.slice.call(d,1))}else{a.error("Method '"+f+"' does not exist on jQuery.wysiwyg.\nTry to include some extra controls or plugins")}}}}})(jQuery);(function(a){if(undefined===a.wysiwyg){throw"wysiwyg.image.js depends on $.wysiwyg"}if(!a.wysiwyg.controls){a.wysiwyg.controls={}}a.wysiwyg.controls.image={init:function(q){var n=this,l,s,k,w,r,o,m,h,g,u,i,t,f,b,e,j,d,c,v={alt:"",self:q.dom.getElement("img"),src:"http://",title:""};r="Insert Image";o="Preview";m="URL";h="Title";g="Description";u="Width";i="Height";t="Original W x H";f="Float";b="None";e="Left";j="Right";d="Insert Image";c="Cancel";if(a.wysiwyg.i18n){r=a.wysiwyg.i18n.t(r,"dialogs.image");o=a.wysiwyg.i18n.t(o,"dialogs.image");m=a.wysiwyg.i18n.t(m,"dialogs.image");h=a.wysiwyg.i18n.t(h,"dialogs.image");g=a.wysiwyg.i18n.t(g,"dialogs.image");u=a.wysiwyg.i18n.t(u,"dialogs.image");i=a.wysiwyg.i18n.t(i,"dialogs.image");t=a.wysiwyg.i18n.t(t,"dialogs.image");f=a.wysiwyg.i18n.t(f,"dialogs.image");b=a.wysiwyg.i18n.t(b,"dialogs.image");e=a.wysiwyg.i18n.t(e,"dialogs.image");j=a.wysiwyg.i18n.t(j,"dialogs.image");d=a.wysiwyg.i18n.t(d,"dialogs.image");c=a.wysiwyg.i18n.t(c,"dialogs")}w='<form class="wysiwyg"><fieldset><legend>'+r+"</legend><label>"+o+': <img src="" alt="'+o+'" style="float: left; margin: 5px; width: 80px; height: 60px; border: 1px solid rgb(192, 192, 192);"/></label><label>'+m+': <input type="text" name="src" value=""/></label><label>'+h+': <input type="text" name="imgtitle" value=""/></label><label>'+g+': <input type="text" name="description" value=""/></label><label>'+u+" x "+i+': <input type="text" name="width" value="" class="width"/> x <input type="text" name="height" value="" class="height"/></label><label>'+t+': <input type="text" name="naturalWidth" value="" class="width" disabled="disabled"/> x <input type="text" name="naturalHeight" value="" class="height" disabled="disabled"/></label><label>'+f+': <select name="float"><option value="">'+b+'</option><option value="left">'+e+'</option><option value="right">'+j+'</option></select></label><input type="submit" class="button" value="'+d+'"/> <input type="reset" value="'+c+'"/></fieldset></form>';if(v.self){v.src=v.self.src?v.self.src:"";v.alt=v.self.alt?v.self.alt:"";v.title=v.self.title?v.self.title:"";v.width=v.self.width?v.self.width:"";v.height=v.self.height?v.self.height:""}if(a.modal){l=a(w);l=n.makeForm(l,v);a.modal(l,{onShow:function(x){a("input:submit",x.data).click(function(y){y.preventDefault();n.processInsert(x,q,v);a.modal.close()});a("input:reset",x.data).click(function(y){y.preventDefault();a.modal.close()})},maxWidth:q.defaults.formWidth,maxHeight:q.defaults.formHeight,overlayClose:true})}else{if(a.fn.dialog){l=a(w);l=n.makeForm(l,v);s=l.appendTo("body");s.dialog({modal:true,width:q.defaults.formWidth,height:q.defaults.formHeight,open:function(x,y){a("input:submit",s).click(function(z){z.preventDefault();n.processInsert(s,q,v);a(s).dialog("close")});a("input:reset",s).click(function(z){z.preventDefault();a(s).dialog("close")})},close:function(x,y){s.dialog("destroy")}})}else{if(a.browser.msie){q.ui.focus();q.editorDoc.execCommand("insertImage",true,null)}else{l=a("<div/>").css({position:"absolute","z-index":2000,left:"50%",top:"50%",background:"rgb(0, 0, 0)","margin-top":-1*Math.round(q.defaults.formHeight/2),"margin-left":-1*Math.round(q.defaults.formWidth/2)}).html(w);l=n.makeForm(l,v);a("input:submit",l).click(function(x){x.preventDefault();n.processInsert(l,q,v);a(l).remove()});a("input:reset",l).click(function(x){x.preventDefault();if(a.browser.msie){q.ui.returnRange()}a(l).remove()});a("body").append(l)}}}a(q.editorDoc).trigger("wysiwyg:refresh")},processInsert:function(c,e,g){var f,j=a('input[name="src"]',c).val(),i=a('input[name="imgtitle"]',c).val(),k=a('input[name="description"]',c).val(),d=a('input[name="width"]',c).val(),l=a('input[name="height"]',c).val(),h=a('select[name="float"]',c).val(),b=[],m;if(g.self){a(g.self).attr("src",j).attr("title",i).attr("alt",k).css("float",h);if(d.toString().match(/^[0-9]+(px|%)?$/)){a(g.self).css("width",d)}else{a(g.self).css("width","")}if(l.toString().match(/^[0-9]+(px|%)?$/)){a(g.self).css("height",l)}else{a(g.self).css("height","")}}else{m=d.toString().match(/^[0-9]+(px|%)?$/);if(m){if(m[1]){b.push("width: "+d+";")}else{b.push("width: "+d+"px;")}}m=l.toString().match(/^[0-9]+(px|%)?$/);if(m){if(m[1]){b.push("height: "+l+";")}else{b.push("height: "+l+"px;")}}if(h.length>0){b.push("float: "+h+";")}if(b.length>0){b=' style="'+b.join(" ")+'"'}f="<img src='"+j+"' title='"+i+"' alt='"+k+"'"+b+"/>";e.insertHtml(f)}},makeForm:function(c,b){c.find("input[name=src]").val(b.src);c.find("input[name=imgtitle]").val(b.title);c.find("input[name=description]").val(b.alt);c.find('input[name="width"]').val(b.width);c.find('input[name="height"]').val(b.height);c.find("img").attr("src",b.src);c.find("img").bind("load",function(){if(c.find("img").attr("naturalWidth")){c.find('input[name="naturalWidth"]').val(c.find("img").attr("naturalWidth"));c.find('input[name="naturalHeight"]').val(c.find("img").attr("naturalHeight"))}});c.find("input[name=src]").bind("change",function(){c.find("img").attr("src",this.value)});return c}};a.wysiwyg.insertImage=function(c,d,b){if("object"!==typeof(c)||!c.context){c=this}if(!c.each){console.error("Something goes wrong, check object")}return c.each(function(){var e=a(this).data("wysiwyg"),g,f;if(!e){return this}if(!d||d.length===0){return this}if(a.browser.msie){e.ui.focus()}if(b){e.editorDoc.execCommand("insertImage",false,"#jwysiwyg#");g=e.getElementByAttributeValue("img","src","#jwysiwyg#");if(g){g.src=d;for(f in b){if(b.hasOwnProperty(f)){g.setAttribute(f,b[f])}}}}else{e.editorDoc.execCommand("insertImage",false,d)}a(e.editorDoc).trigger("wysiwyg:refresh");return this})}})(jQuery);(function(b){if(undefined===b.wysiwyg){throw"wysiwyg.table.js depends on $.wysiwyg"}if(!b.wysiwyg.controls){b.wysiwyg.controls={}}var a=function(h,c,g){if(isNaN(c)||isNaN(h)||c===null||h===null){return}var f,d,e=['<table border="1" style="width: 100%;"><tbody>'];h=parseInt(h,10);c=parseInt(c,10);if(g===null){g="&nbsp;"}g="<td>"+g+"</td>";for(f=c;f>0;f-=1){e.push("<tr>");for(d=h;d>0;d-=1){e.push(g)}e.push("</tr>")}e.push("</tbody></table>");return this.insertHtml(e.join(""))};b.wysiwyg.controls.table=function(c){var l=c,g,k,i,f,j="Insert table",h="Count of columns",m="Count of rows",e="Insert table",d="Cancel";if(b.wysiwyg.i18n){j=b.wysiwyg.i18n.t(j,"dialogs.table");h=b.wysiwyg.i18n.t(h,"dialogs.table");m=b.wysiwyg.i18n.t(m,"dialogs.table");e=b.wysiwyg.i18n.t(e,"dialogs.table");d=b.wysiwyg.i18n.t(d,"dialogs")}f='<form class="wysiwyg"><fieldset><legend>'+j+"</legend><label>"+h+': <input type="text" name="colCount" value="3" /></label><label>'+m+': <input type="text" name="rowCount" value="3" /></label><input type="submit" class="button" value="'+e+'"/> <input type="reset" value="'+d+'"/></fieldset></form>';if(!c.insertTable){c.insertTable=a}if(b.fn.modal){b.modal(f,{onShow:function(n){b("input:submit",n.data).click(function(o){o.preventDefault();i=b('input[name="rowCount"]',n.data).val();k=b('input[name="colCount"]',n.data).val();l.insertTable(k,i,l.defaults.tableFiller);b.modal.close()});b("input:reset",n.data).click(function(o){o.preventDefault();b.modal.close()})},maxWidth:l.defaults.formWidth,maxHeight:l.defaults.formHeight,overlayClose:true})}else{if(b.fn.dialog){g=b(f).appendTo("body");g.dialog({modal:true,width:l.defaults.formWidth,height:l.defaults.formHeight,open:function(n,o){b("input:submit",g).click(function(q){q.preventDefault();i=b('input[name="rowCount"]',g).val();k=b('input[name="colCount"]',g).val();l.insertTable(k,i,l.defaults.tableFiller);b(g).dialog("close")});b("input:reset",g).click(function(q){q.preventDefault();b(g).dialog("close")})},close:function(n,o){g.dialog("destroy")}})}else{k=prompt(h,"3");i=prompt(m,"3");l.insertTable(k,i,l.defaults.tableFiller)}}b(l.editorDoc).trigger("wysiwyg:refresh")};b.wysiwyg.insertTable=function(d,f,c,e){if("object"!==typeof(d)||!d.context){d=this}if(!d.each){console.error("Something goes wrong, check object")}return d.each(function(){var g=b(this).data("wysiwyg");if(!g.insertTable){g.insertTable=a}if(!g){return this}g.insertTable(f,c,e);b(g.editorDoc).trigger("wysiwyg:refresh");return this})}})(jQuery);(function(a){if(undefined===a.wysiwyg){throw"wysiwyg.image.js depends on $.wysiwyg"}if(!a.wysiwyg.controls){a.wysiwyg.controls={}}a.wysiwyg.controls.link={init:function(c){var o=this,b,g,m,l,n,k,j,i,h,e,f,d;j="Insert Link";i="Link URL";h="Link Title";e="Link Target";f="Insert Link";d="Cancel";if(a.wysiwyg.i18n){j=a.wysiwyg.i18n.t(j,"dialogs.link");i=a.wysiwyg.i18n.t(i,"dialogs.link");h=a.wysiwyg.i18n.t(h,"dialogs.link");e=a.wysiwyg.i18n.t(e,"dialogs.link");f=a.wysiwyg.i18n.t(f,"dialogs.link");d=a.wysiwyg.i18n.t(d,"dialogs")}k='<form class="wysiwyg"><fieldset><legend>'+j+"</legend><label>"+i+': <input type="text" name="linkhref" value=""/></label><label>'+h+': <input type="text" name="linktitle" value=""/></label><label>'+e+': <input type="text" name="linktarget" value=""/></label><input type="submit" class="button" value="'+f+'"/> <input type="reset" value="'+d+'"/></fieldset></form>';l={self:c.dom.getElement("a"),href:"http://",title:"",target:""};if(l.self){l.href=l.self.href?l.self.href:l.href;l.title=l.self.title?l.self.title:"";l.target=l.self.target?l.self.target:""}if(a.fn.dialog){b=a(k);b.find("input[name=linkhref]").val(l.href);b.find("input[name=linktitle]").val(l.title);b.find("input[name=linktarget]").val(l.target);if(a.browser.msie){g=b.appendTo(c.editorDoc.body)}else{g=b.appendTo("body")}g.dialog({modal:true,width:c.defaults.formWidth,height:c.defaults.formHeight,open:function(q,r){a("input:submit",g).click(function(u){u.preventDefault();var s=a('input[name="linkhref"]',g).val(),v=a('input[name="linktitle"]',g).val(),t=a('input[name="linktarget"]',g).val();if(l.self){if("string"===typeof(s)){if(s.length>0){a(l.self).attr("href",s).attr("title",v).attr("target",t)}else{a(l.self).replaceWith(l.self.innerHTML)}}}else{if(a.browser.msie){c.ui.returnRange()}n=c.getRangeText();img=c.dom.getElement("img");if((n&&n.length>0)||img){if(a.browser.msie){c.ui.focus()}if("string"===typeof(s)){if(s.length>0){c.editorDoc.execCommand("createLink",false,s)}else{c.editorDoc.execCommand("unlink",false,null)}}l=c.dom.getElement("a");a(l).attr("href",s).attr("title",v).attr("target",t)}else{if(c.options.messages.nonSelection){window.alert(c.options.messages.nonSelection)}}}a(g).dialog("close")});a("input:reset",g).click(function(s){s.preventDefault();a(g).dialog("close")})},close:function(q,r){g.dialog("destroy")}})}else{if(l.self){m=window.prompt("URL",l.href);if("string"===typeof(m)){if(m.length>0){a(l.self).attr("href",m)}else{a(l.self).replaceWith(l.self.innerHTML)}}}else{n=c.getRangeText();img=c.dom.getElement("img");if((n&&n.length>0)||img){if(a.browser.msie){c.ui.focus();c.editorDoc.execCommand("createLink",true,null)}else{m=window.prompt(i,l.href);if("string"===typeof(m)){if(m.length>0){c.editorDoc.execCommand("createLink",false,m)}else{c.editorDoc.execCommand("unlink",false,null)}}}}else{if(c.options.messages.nonSelection){window.alert(c.options.messages.nonSelection)}}}}a(c.editorDoc).trigger("wysiwyg:refresh")}};a.wysiwyg.createLink=function(b,c){if("object"!==typeof(b)||!b.context){b=this}if(!b.each){console.error("Something goes wrong, check object")}return b.each(function(){var d=a(this).data("wysiwyg"),e;if(!d){return this}if(!c||c.length===0){return this}e=d.getRangeText();if(e&&e.length>0){if(a.browser.msie){d.ui.focus()}d.editorDoc.execCommand("unlink",false,null);d.editorDoc.execCommand("createLink",false,c)}else{if(d.options.messages.nonSelection){window.alert(d.options.messages.nonSelection)}}})}})(jQuery);var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,c=function(f,e){f=String(f);e=e||2;while(f.length<e){f="0"+f}return f};return function(i,w,r){var g=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(i)=="[object String]"&&!/\d/.test(i)){w=i;i=undefined}i=i?new Date(i):new Date;if(isNaN(i)){throw SyntaxError("invalid date")}w=String(g.masks[w]||w||g.masks["default"]);if(w.slice(0,4)=="UTC:"){w=w.slice(4);r=true}var u=r?"getUTC":"get",l=i[u+"Date"](),e=i[u+"Day"](),j=i[u+"Month"](),q=i[u+"FullYear"](),t=i[u+"Hours"](),k=i[u+"Minutes"](),v=i[u+"Seconds"](),n=i[u+"Milliseconds"](),f=r?0:i.getTimezoneOffset(),h={d:l,dd:c(l),ddd:g.i18n.dayNames[e],dddd:g.i18n.dayNames[e+7],m:j+1,mm:c(j+1),mmm:g.i18n.monthNames[j],mmmm:g.i18n.monthNames[j+12],yy:String(q).slice(2),yyyy:q,h:t%12||12,hh:c(t%12||12),H:t,HH:c(t),M:k,MM:c(k),s:v,ss:c(v),l:c(n,3),L:c(n>99?Math.round(n/10):n),t:t<12?"a":"p",tt:t<12?"am":"pm",T:t<12?"A":"P",TT:t<12?"AM":"PM",Z:r?"UTC":(String(i).match(b)||[""]).pop().replace(d,""),o:(f>0?"-":"+")+c(Math.floor(Math.abs(f)/60)*100+Math.abs(f)%60,4),S:["th","st","nd","rd"][l%10>3?0:(l%100-l%10!=10)*l%10]};return w.replace(a,function(m){return m in h?h[m]:m.slice(1,m.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(a,b){return dateFormat(this,a,b)};
/*!
* jQuery idleTimer plugin
* version 0.9.100511
* by Paul Irish.
* http://github.com/paulirish/yui-misc/tree/
* MIT license

* adapted from YUI idle timer by nzakas:
* http://github.com/nzakas/yui-misc/
*/
(function(a){a.idleTimer=function(j,c){var d=false,g=true,h=30000,k="mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove";c=c||document;var f=function(o){if(typeof o==="number"){o=undefined}var n=a.data(o||c,"idleTimerObj");n.idle=!n.idle;var l=(+new Date())-n.olddate;n.olddate=+new Date();if(n.idle&&(l<h)){n.idle=false;clearTimeout(a.idleTimer.tId);if(g){a.idleTimer.tId=setTimeout(f,h)}return}var m=jQuery.Event(a.data(c,"idleTimer",n.idle?"idle":"active")+".idleTimer");m.stopPropagation();a(c).trigger(m)},i=function(l){var m=a.data(l,"idleTimerObj");m.enabled=false;clearTimeout(m.tId);a(l).unbind(".idleTimer")},b=function(){var l=a.data(this,"idleTimerObj");clearTimeout(l.tId);if(l.enabled){if(l.idle){f(this)}l.tId=setTimeout(f,l.timeout)}};var e=a.data(c,"idleTimerObj")||{};e.olddate=e.olddate||+new Date();if(typeof j==="number"){h=j}else{if(j==="destroy"){i(c);return this}else{if(j==="getElapsedTime"){return(+new Date())-e.olddate}}}a(c).bind(a.trim((k+" ").split(" ").join(".idleTimer ")),b);e.idle=d;e.enabled=g;e.timeout=h;e.tId=setTimeout(f,e.timeout);a.data(c,"idleTimer","active");a.data(c,"idleTimerObj",e)};a.fn.idleTimer=function(b){if(this[0]){a.idleTimer(b,this[0])}return this}})(jQuery);(function(b,c){var a={init:function(f,h,e){var d=this,g;this.warning=g=b(f);this.resume=b(h);this.options=e;this.countdownOpen=false;this.failedRequests=e.failedRequests;this._startTimer();b.data(g[0],"idletimeout",this);b.idleTimer(e.idleAfter*1000);b(document).bind("idle.idleTimer",function(){if(b.data(document,"idleTimer")==="idle"&&!d.countdownOpen){d._stopTimer();d.countdownOpen=true;d._idle()}});this.resume.bind("click",function(i){i.preventDefault();c.clearInterval(d.countdown);d.countdownOpen=false;d._startTimer();d._keepAlive(false);e.onResume.call(d.warning)})},_idle:function(){var e=this,f=this.options,g=this.warning[0],d=f.warningLength;f.onIdle.call(g);f.onCountdown.call(g,d);this.countdown=c.setInterval(function(){if(--d===0){window.clearInterval(e.countdown);f.onTimeout.call(g)}else{f.onCountdown.call(g,d)}},1000)},_startTimer:function(){var d=this;this.timer=c.setTimeout(function(){d._keepAlive()},this.options.pollingInterval*1000)},_stopTimer:function(){this.failedRequests=this.options.failedRequests;c.clearTimeout(this.timer)},_keepAlive:function(f){var d=this,e=this.options;if(typeof f==="undefined"){f=true}if(!this.failedRequests){this._stopTimer();e.onAbort.call(this.warning[0]);return}b.ajax({timeout:e.AJAXTimeout,url:e.keepAliveURL,error:function(){d.failedRequests--},success:function(g){if(b.trim(g)!==e.serverResponseEquals){d.failedRequests--}},complete:function(){if(f){d._startTimer()}}})}};b.idleTimeout=function(e,f,d){a.init(e,f,b.extend(b.idleTimeout.options,d));return this};b.idleTimeout.options={warningLength:30,keepAliveURL:"",serverResponseEquals:"OK",idleAfter:600,pollingInterval:60,failedRequests:5,AJAXTimeout:250,onTimeout:b.noop,onIdle:b.noop,onCountdown:b.noop,onResume:b.noop,onAbort:b.noop}})(jQuery,window);(function(i){var l="2.99";if(i.support==undefined){i.support={opacity:!(i.browser.msie)}}function a(r){i.fn.cycle.debug&&f(r)}function f(){window.console&&console.log&&console.log("[cycle] "+Array.prototype.join.call(arguments," "))}i.expr[":"].paused=function(r){return r.cyclePause};i.fn.cycle=function(s,r){var t={s:this.selector,c:this.context};if(this.length===0&&s!="stop"){if(!i.isReady&&t.s){f("DOM not ready, queuing slideshow");i(function(){i(t.s,t.c).cycle(s,r)});return this}f("terminating; zero elements found by selector"+(i.isReady?"":" (DOM not ready)"));return this}return this.each(function(){var x=m(this,s,r);if(x===false){return}x.updateActivePagerLink=x.updateActivePagerLink||i.fn.cycle.updateActivePagerLink;if(this.cycleTimeout){clearTimeout(this.cycleTimeout)}this.cycleTimeout=this.cyclePause=0;var y=i(this);var z=x.slideExpr?i(x.slideExpr,this):y.children();var v=z.get();if(v.length<2){f("terminating; too few slides: "+v.length);return}var u=k(y,z,v,x,t);if(u===false){return}var w=u.continuous?10:h(v[u.currSlide],v[u.nextSlide],u,!u.backwards);if(w){w+=(u.delay||0);if(w<10){w=10}a("first timeout: "+w);this.cycleTimeout=setTimeout(function(){e(v,u,0,!x.backwards)},w)}})};function m(r,u,s){if(r.cycleStop==undefined){r.cycleStop=0}if(u===undefined||u===null){u={}}if(u.constructor==String){switch(u){case"destroy":case"stop":var w=i(r).data("cycle.opts");if(!w){return false}r.cycleStop++;if(r.cycleTimeout){clearTimeout(r.cycleTimeout)}r.cycleTimeout=0;i(r).removeData("cycle.opts");if(u=="destroy"){q(w)}return false;case"toggle":r.cyclePause=(r.cyclePause===1)?0:1;v(r.cyclePause,s,r);return false;case"pause":r.cyclePause=1;return false;case"resume":r.cyclePause=0;v(false,s,r);return false;case"prev":case"next":var w=i(r).data("cycle.opts");if(!w){f('options not found, "prev/next" ignored');return false}i.fn.cycle[u](w);return false;default:u={fx:u}}return u}else{if(u.constructor==Number){var t=u;u=i(r).data("cycle.opts");if(!u){f("options not found, can not advance slide");return false}if(t<0||t>=u.elements.length){f("invalid slide index: "+t);return false}u.nextSlide=t;if(r.cycleTimeout){clearTimeout(r.cycleTimeout);r.cycleTimeout=0}if(typeof s=="string"){u.oneTimeFx=s}e(u.elements,u,1,t>=u.currSlide);return false}}return u;function v(y,z,x){if(!y&&z===true){var A=i(x).data("cycle.opts");if(!A){f("options not found, can not resume");return false}if(x.cycleTimeout){clearTimeout(x.cycleTimeout);x.cycleTimeout=0}e(A.elements,A,1,!A.backwards)}}}function b(r,s){if(!i.support.opacity&&s.cleartype&&r.style.filter){try{r.style.removeAttribute("filter")}catch(t){}}}function q(r){if(r.next){i(r.next).unbind(r.prevNextEvent)}if(r.prev){i(r.prev).unbind(r.prevNextEvent)}if(r.pager||r.pagerAnchorBuilder){i.each(r.pagerAnchors||[],function(){this.unbind().remove()})}r.pagerAnchors=null;if(r.destroy){r.destroy(r)}}function k(z,L,v,u,F){var D=i.extend({},i.fn.cycle.defaults,u||{},i.metadata?z.metadata():i.meta?z.data():{});if(D.autostop){D.countdown=D.autostopCount||v.length}var s=z[0];z.data("cycle.opts",D);D.$cont=z;D.stopCount=s.cycleStop;D.elements=v;D.before=D.before?[D.before]:[];D.after=D.after?[D.after]:[];if(!i.support.opacity&&D.cleartype){D.after.push(function(){b(this,D)})}if(D.continuous){D.after.push(function(){e(v,D,0,!D.backwards)})}n(D);if(!i.support.opacity&&D.cleartype&&!D.cleartypeNoBg){g(L)}if(z.css("position")=="static"){z.css("position","relative")}if(D.width){z.width(D.width)}if(D.height&&D.height!="auto"){z.height(D.height)}if(D.startingSlide){D.startingSlide=parseInt(D.startingSlide)}else{if(D.backwards){D.startingSlide=v.length-1}}if(D.random){D.randomMap=[];for(var J=0;J<v.length;J++){D.randomMap.push(J)}D.randomMap.sort(function(N,w){return Math.random()-0.5});D.randomIndex=1;D.startingSlide=D.randomMap[1]}else{if(D.startingSlide>=v.length){D.startingSlide=0}}D.currSlide=D.startingSlide||0;var y=D.startingSlide;L.css({position:"absolute",top:0,left:0}).hide().each(function(w){var N;if(D.backwards){N=y?w<=y?v.length+(w-y):y-w:v.length-w}else{N=y?w>=y?v.length-(w-y):y-w:v.length-w}i(this).css("z-index",N)});i(v[y]).css("opacity",1).show();b(v[y],D);if(D.fit&&D.width){L.width(D.width)}if(D.fit&&D.height&&D.height!="auto"){L.height(D.height)}var E=D.containerResize&&!z.innerHeight();if(E){var x=0,C=0;for(var H=0;H<v.length;H++){var r=i(v[H]),M=r[0],B=r.outerWidth(),K=r.outerHeight();if(!B){B=M.offsetWidth||M.width||r.attr("width")}if(!K){K=M.offsetHeight||M.height||r.attr("height")}x=B>x?B:x;C=K>C?K:C}if(x>0&&C>0){z.css({width:x+"px",height:C+"px"})}}if(D.pause){z.hover(function(){this.cyclePause++},function(){this.cyclePause--})}if(c(D)===false){return false}var t=false;u.requeueAttempts=u.requeueAttempts||0;L.each(function(){var P=i(this);this.cycleH=(D.fit&&D.height)?D.height:(P.height()||this.offsetHeight||this.height||P.attr("height")||0);this.cycleW=(D.fit&&D.width)?D.width:(P.width()||this.offsetWidth||this.width||P.attr("width")||0);if(P.is("img")){var N=(i.browser.msie&&this.cycleW==28&&this.cycleH==30&&!this.complete);var Q=(i.browser.mozilla&&this.cycleW==34&&this.cycleH==19&&!this.complete);var O=(i.browser.opera&&((this.cycleW==42&&this.cycleH==19)||(this.cycleW==37&&this.cycleH==17))&&!this.complete);var w=(this.cycleH==0&&this.cycleW==0&&!this.complete);if(N||Q||O||w){if(F.s&&D.requeueOnImageNotLoaded&&++u.requeueAttempts<100){f(u.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH);setTimeout(function(){i(F.s,F.c).cycle(u)},D.requeueTimeout);t=true;return false}else{f("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}}return true});if(t){return false}D.cssBefore=D.cssBefore||{};D.cssAfter=D.cssAfter||{};D.cssFirst=D.cssFirst||{};D.animIn=D.animIn||{};D.animOut=D.animOut||{};L.not(":eq("+y+")").css(D.cssBefore);i(L[y]).css(D.cssFirst);if(D.timeout){D.timeout=parseInt(D.timeout);if(D.speed.constructor==String){D.speed=i.fx.speeds[D.speed]||parseInt(D.speed)}if(!D.sync){D.speed=D.speed/2}var G=D.fx=="none"?0:D.fx=="shuffle"?500:250;while((D.timeout-D.speed)<G){D.timeout+=D.speed}}if(D.easing){D.easeIn=D.easeOut=D.easing}if(!D.speedIn){D.speedIn=D.speed}if(!D.speedOut){D.speedOut=D.speed}D.slideCount=v.length;D.currSlide=D.lastSlide=y;if(D.random){if(++D.randomIndex==v.length){D.randomIndex=0}D.nextSlide=D.randomMap[D.randomIndex]}else{if(D.backwards){D.nextSlide=D.startingSlide==0?(v.length-1):D.startingSlide-1}else{D.nextSlide=D.startingSlide>=(v.length-1)?0:D.startingSlide+1}}if(!D.multiFx){var I=i.fn.cycle.transitions[D.fx];if(i.isFunction(I)){I(z,L,D)}else{if(D.fx!="custom"&&!D.multiFx){f("unknown transition: "+D.fx,"; slideshow terminating");return false}}}var A=L[y];if(D.before.length){D.before[0].apply(A,[A,A,D,true])}if(D.after.length){D.after[0].apply(A,[A,A,D,true])}if(D.next){i(D.next).bind(D.prevNextEvent,function(){return o(D,1)})}if(D.prev){i(D.prev).bind(D.prevNextEvent,function(){return o(D,0)})}if(D.pager||D.pagerAnchorBuilder){d(v,D)}j(D,v);return D}function n(r){r.original={before:[],after:[]};r.original.cssBefore=i.extend({},r.cssBefore);r.original.cssAfter=i.extend({},r.cssAfter);r.original.animIn=i.extend({},r.animIn);r.original.animOut=i.extend({},r.animOut);i.each(r.before,function(){r.original.before.push(this)});i.each(r.after,function(){r.original.after.push(this)})}function c(x){var v,t,s=i.fn.cycle.transitions;if(x.fx.indexOf(",")>0){x.multiFx=true;x.fxs=x.fx.replace(/\s*/g,"").split(",");for(v=0;v<x.fxs.length;v++){var w=x.fxs[v];t=s[w];if(!t||!s.hasOwnProperty(w)||!i.isFunction(t)){f("discarding unknown transition: ",w);x.fxs.splice(v,1);v--}}if(!x.fxs.length){f("No valid transitions named; slideshow terminating.");return false}}else{if(x.fx=="all"){x.multiFx=true;x.fxs=[];for(p in s){t=s[p];if(s.hasOwnProperty(p)&&i.isFunction(t)){x.fxs.push(p)}}}}if(x.multiFx&&x.randomizeEffects){var u=Math.floor(Math.random()*20)+30;for(v=0;v<u;v++){var r=Math.floor(Math.random()*x.fxs.length);x.fxs.push(x.fxs.splice(r,1)[0])}a("randomized fx sequence: ",x.fxs)}return true}function j(s,r){s.addSlide=function(u,v){var t=i(u),w=t[0];if(!s.autostopCount){s.countdown++}r[v?"unshift":"push"](w);if(s.els){s.els[v?"unshift":"push"](w)}s.slideCount=r.length;t.css("position","absolute");t[v?"prependTo":"appendTo"](s.$cont);if(v){s.currSlide++;s.nextSlide++}if(!i.support.opacity&&s.cleartype&&!s.cleartypeNoBg){g(t)}if(s.fit&&s.width){t.width(s.width)}if(s.fit&&s.height&&s.height!="auto"){t.height(s.height)}w.cycleH=(s.fit&&s.height)?s.height:t.height();w.cycleW=(s.fit&&s.width)?s.width:t.width();t.css(s.cssBefore);if(s.pager||s.pagerAnchorBuilder){i.fn.cycle.createPagerAnchor(r.length-1,w,i(s.pager),r,s)}if(i.isFunction(s.onAddSlide)){s.onAddSlide(t)}else{t.hide()}}}i.fn.cycle.resetState=function(s,r){r=r||s.fx;s.before=[];s.after=[];s.cssBefore=i.extend({},s.original.cssBefore);s.cssAfter=i.extend({},s.original.cssAfter);s.animIn=i.extend({},s.original.animIn);s.animOut=i.extend({},s.original.animOut);s.fxFn=null;i.each(s.original.before,function(){s.before.push(this)});i.each(s.original.after,function(){s.after.push(this)});var t=i.fn.cycle.transitions[r];if(i.isFunction(t)){t(s.$cont,i(s.elements),s)}};function e(y,r,x,A){if(x&&r.busy&&r.manualTrump){a("manualTrump in go(), stopping active transition");i(y).stop(true,true);r.busy=0}if(r.busy){a("transition active, ignoring new tx request");return}var v=r.$cont[0],C=y[r.currSlide],B=y[r.nextSlide];if(v.cycleStop!=r.stopCount||v.cycleTimeout===0&&!x){return}if(!x&&!v.cyclePause&&!r.bounce&&((r.autostop&&(--r.countdown<=0))||(r.nowrap&&!r.random&&r.nextSlide<r.currSlide))){if(r.end){r.end(r)}return}var z=false;if((x||!v.cyclePause)&&(r.nextSlide!=r.currSlide)){z=true;var w=r.fx;C.cycleH=C.cycleH||i(C).height();C.cycleW=C.cycleW||i(C).width();B.cycleH=B.cycleH||i(B).height();B.cycleW=B.cycleW||i(B).width();if(r.multiFx){if(r.lastFx==undefined||++r.lastFx>=r.fxs.length){r.lastFx=0}w=r.fxs[r.lastFx];r.currFx=w}if(r.oneTimeFx){w=r.oneTimeFx;r.oneTimeFx=null}i.fn.cycle.resetState(r,w);if(r.before.length){i.each(r.before,function(D,E){if(v.cycleStop!=r.stopCount){return}E.apply(B,[C,B,r,A])})}var t=function(){r.busy=0;i.each(r.after,function(D,E){if(v.cycleStop!=r.stopCount){return}E.apply(B,[C,B,r,A])})};a("tx firing("+w+"); currSlide: "+r.currSlide+"; nextSlide: "+r.nextSlide);r.busy=1;if(r.fxFn){r.fxFn(C,B,r,t,A,x&&r.fastOnEvent)}else{if(i.isFunction(i.fn.cycle[r.fx])){i.fn.cycle[r.fx](C,B,r,t,A,x&&r.fastOnEvent)}else{i.fn.cycle.custom(C,B,r,t,A,x&&r.fastOnEvent)}}}if(z||r.nextSlide==r.currSlide){r.lastSlide=r.currSlide;if(r.random){r.currSlide=r.nextSlide;if(++r.randomIndex==y.length){r.randomIndex=0}r.nextSlide=r.randomMap[r.randomIndex];if(r.nextSlide==r.currSlide){r.nextSlide=(r.currSlide==r.slideCount-1)?0:r.currSlide+1}}else{if(r.backwards){var u=(r.nextSlide-1)<0;if(u&&r.bounce){r.backwards=!r.backwards;r.nextSlide=1;r.currSlide=0}else{r.nextSlide=u?(y.length-1):r.nextSlide-1;r.currSlide=u?0:r.nextSlide+1}}else{var u=(r.nextSlide+1)==y.length;if(u&&r.bounce){r.backwards=!r.backwards;r.nextSlide=y.length-2;r.currSlide=y.length-1}else{r.nextSlide=u?0:r.nextSlide+1;r.currSlide=u?y.length-1:r.nextSlide-1}}}}if(z&&r.pager){r.updateActivePagerLink(r.pager,r.currSlide,r.activePagerClass)}var s=0;if(r.timeout&&!r.continuous){s=h(y[r.currSlide],y[r.nextSlide],r,A)}else{if(r.continuous&&v.cyclePause){s=10}}if(s>0){v.cycleTimeout=setTimeout(function(){e(y,r,0,!r.backwards)},s)}}i.fn.cycle.updateActivePagerLink=function(r,t,s){i(r).each(function(){i(this).children().removeClass(s).eq(t).addClass(s)})};function h(w,u,v,s){if(v.timeoutFn){var r=v.timeoutFn.call(w,w,u,v,s);while(v.fx!="none"&&(r-v.speed)<250){r+=v.speed}a("calculated timeout: "+r+"; speed: "+v.speed);if(r!==false){return r}}return v.timeout}i.fn.cycle.next=function(r){o(r,1)};i.fn.cycle.prev=function(r){o(r,0)};function o(u,t){var x=t?1:-1;var s=u.elements;var w=u.$cont[0],v=w.cycleTimeout;if(v){clearTimeout(v);w.cycleTimeout=0}if(u.random&&x<0){u.randomIndex--;if(--u.randomIndex==-2){u.randomIndex=s.length-2}else{if(u.randomIndex==-1){u.randomIndex=s.length-1}}u.nextSlide=u.randomMap[u.randomIndex]}else{if(u.random){u.nextSlide=u.randomMap[u.randomIndex]}else{u.nextSlide=u.currSlide+x;if(u.nextSlide<0){if(u.nowrap){return false}u.nextSlide=s.length-1}else{if(u.nextSlide>=s.length){if(u.nowrap){return false}u.nextSlide=0}}}}var r=u.onPrevNextEvent||u.prevNextClick;if(i.isFunction(r)){r(x>0,u.nextSlide,s[u.nextSlide])}e(s,u,1,t);return false}function d(s,t){var r=i(t.pager);i.each(s,function(u,v){i.fn.cycle.createPagerAnchor(u,v,r,s,t)});t.updateActivePagerLink(t.pager,t.startingSlide,t.activePagerClass)}i.fn.cycle.createPagerAnchor=function(v,w,t,u,x){var s;if(i.isFunction(x.pagerAnchorBuilder)){s=x.pagerAnchorBuilder(v,w);a("pagerAnchorBuilder("+v+", el) returned: "+s)}else{s='<a href="#">'+(v+1)+"</a>"}if(!s){return}var y=i(s);if(y.parents("body").length===0){var r=[];if(t.length>1){t.each(function(){var z=y.clone(true);i(this).append(z);r.push(z[0])});y=i(r)}else{y.appendTo(t)}}x.pagerAnchors=x.pagerAnchors||[];x.pagerAnchors.push(y);y.bind(x.pagerEvent,function(C){C.preventDefault();x.nextSlide=v;var B=x.$cont[0],A=B.cycleTimeout;if(A){clearTimeout(A);B.cycleTimeout=0}var z=x.onPagerEvent||x.pagerClick;if(i.isFunction(z)){z(x.nextSlide,u[x.nextSlide])}e(u,x,1,x.currSlide<v)});if(!/^click/.test(x.pagerEvent)&&!x.allowPagerClickBubble){y.bind("click.cycle",function(){return false})}if(x.pauseOnPagerHover){y.hover(function(){x.$cont[0].cyclePause++},function(){x.$cont[0].cyclePause--})}};i.fn.cycle.hopsFromLast=function(u,t){var s,r=u.lastSlide,v=u.currSlide;if(t){s=v>r?v-r:u.slideCount-r}else{s=v<r?r-v:r+u.slideCount-v}return s};function g(t){a("applying clearType background-color hack");function s(u){u=parseInt(u).toString(16);return u.length<2?"0"+u:u}function r(x){for(;x&&x.nodeName.toLowerCase()!="html";x=x.parentNode){var u=i.css(x,"background-color");if(u&&u.indexOf("rgb")>=0){var w=u.match(/\d+/g);return"#"+s(w[0])+s(w[1])+s(w[2])}if(u&&u!="transparent"){return u}}return"#ffffff"}t.each(function(){i(this).css("background-color",r(this))})}i.fn.cycle.commonReset=function(x,u,v,s,t,r){i(v.elements).not(x).hide();if(typeof v.cssBefore.opacity=="undefined"){v.cssBefore.opacity=1}v.cssBefore.display="block";if(v.slideResize&&s!==false&&u.cycleW>0){v.cssBefore.width=u.cycleW}if(v.slideResize&&t!==false&&u.cycleH>0){v.cssBefore.height=u.cycleH}v.cssAfter=v.cssAfter||{};v.cssAfter.display="none";i(x).css("zIndex",v.slideCount+(r===true?1:0));i(u).css("zIndex",v.slideCount+(r===true?0:1))};i.fn.cycle.custom=function(D,x,r,u,w,s){var C=i(D),y=i(x);var t=r.speedIn,B=r.speedOut,v=r.easeIn,A=r.easeOut;y.css(r.cssBefore);if(s){if(typeof s=="number"){t=B=s}else{t=B=1}v=A=null}var z=function(){y.animate(r.animIn,t,v,function(){u()})};C.animate(r.animOut,B,A,function(){C.css(r.cssAfter);if(!r.sync){z()}});if(r.sync){z()}};i.fn.cycle.transitions={fade:function(s,t,r){t.not(":eq("+r.currSlide+")").css("opacity",0);r.before.push(function(w,u,v){i.fn.cycle.commonReset(w,u,v);v.cssBefore.opacity=0});r.animIn={opacity:1};r.animOut={opacity:0};r.cssBefore={top:0,left:0}}};i.fn.cycle.ver=function(){return l};i.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:false,animIn:null,animOut:null,autostop:0,autostopCount:0,backwards:false,before:null,cleartype:!i.support.opacity,cleartypeNoBg:false,containerResize:1,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:true,next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:true,requeueTimeout:250,rev:0,shuffle:null,slideExpr:null,slideResize:1,speed:1000,speedIn:null,speedOut:null,startingSlide:0,sync:1,timeout:4000,timeoutFn:null,updateActivePagerLink:null}})(jQuery);(function(a){a.fn.cycle.transitions.none=function(c,d,b){b.fxFn=function(g,e,f,h){a(e).show();a(g).hide();h()}};a.fn.cycle.transitions.fadeout=function(c,d,b){d.not(":eq("+b.currSlide+")").css({display:"block",opacity:1});b.before.push(function(k,i,j,f,g,e){a(k).css("zIndex",j.slideCount+(!e===true?1:0));a(i).css("zIndex",j.slideCount+(!e===true?0:1))});b.animIn.opacity=1;b.animOut.opacity=0;b.cssBefore.opacity=1;b.cssBefore.display="block";b.cssAfter.zIndex=0};a.fn.cycle.transitions.scrollUp=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.height();c.cssBefore.top=b;c.cssBefore.left=0;c.cssFirst.top=0;c.animIn.top=0;c.animOut.top=-b};a.fn.cycle.transitions.scrollDown=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.height();c.cssFirst.top=0;c.cssBefore.top=-b;c.cssBefore.left=0;c.animIn.top=0;c.animOut.top=b};a.fn.cycle.transitions.scrollLeft=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.width();c.cssFirst.left=0;c.cssBefore.left=b;c.cssBefore.top=0;c.animIn.left=0;c.animOut.left=0-b};a.fn.cycle.transitions.scrollRight=function(d,e,c){d.css("overflow","hidden");c.before.push(a.fn.cycle.commonReset);var b=d.width();c.cssFirst.left=0;c.cssBefore.left=-b;c.cssBefore.top=0;c.animIn.left=0;c.animOut.left=b};a.fn.cycle.transitions.scrollHorz=function(c,d,b){c.css("overflow","hidden").width();b.before.push(function(h,f,g,e){if(g.rev){e=!e}a.fn.cycle.commonReset(h,f,g);g.cssBefore.left=e?(f.cycleW-1):(1-f.cycleW);g.animOut.left=e?-h.cycleW:h.cycleW});b.cssFirst.left=0;b.cssBefore.top=0;b.animIn.left=0;b.animOut.top=0};a.fn.cycle.transitions.scrollVert=function(c,d,b){c.css("overflow","hidden");b.before.push(function(h,f,g,e){if(g.rev){e=!e}a.fn.cycle.commonReset(h,f,g);g.cssBefore.top=e?(1-f.cycleH):(f.cycleH-1);g.animOut.top=e?h.cycleH:-h.cycleH});b.cssFirst.top=0;b.cssBefore.left=0;b.animIn.top=0;b.animOut.left=0};a.fn.cycle.transitions.slideX=function(c,d,b){b.before.push(function(g,e,f){a(f.elements).not(g).hide();a.fn.cycle.commonReset(g,e,f,false,true);f.animIn.width=e.cycleW});b.cssBefore.left=0;b.cssBefore.top=0;b.cssBefore.width=0;b.animIn.width="show";b.animOut.width=0};a.fn.cycle.transitions.slideY=function(c,d,b){b.before.push(function(g,e,f){a(f.elements).not(g).hide();a.fn.cycle.commonReset(g,e,f,true,false);f.animIn.height=e.cycleH});b.cssBefore.left=0;b.cssBefore.top=0;b.cssBefore.height=0;b.animIn.height="show";b.animOut.height=0};a.fn.cycle.transitions.shuffle=function(e,f,d){var c,b=e.css("overflow","visible").width();f.css({left:0,top:0});d.before.push(function(i,g,h){a.fn.cycle.commonReset(i,g,h,true,true,true)});if(!d.speedAdjusted){d.speed=d.speed/2;d.speedAdjusted=true}d.random=0;d.shuffle=d.shuffle||{left:-b,top:15};d.els=[];for(c=0;c<f.length;c++){d.els.push(f[c])}for(c=0;c<d.currSlide;c++){d.els.push(d.els.shift())}d.fxFn=function(m,j,l,g,i){if(l.rev){i=!i}var h=i?a(m):a(j);a(j).css(l.cssBefore);var k=l.slideCount;h.animate(l.shuffle,l.speedIn,l.easeIn,function(){var o=a.fn.cycle.hopsFromLast(l,i);for(var q=0;q<o;q++){i?l.els.push(l.els.shift()):l.els.unshift(l.els.pop())}if(i){for(var r=0,n=l.els.length;r<n;r++){a(l.els[r]).css("z-index",n-r+k)}}else{var s=a(m).css("z-index");h.css("z-index",parseInt(s)+1+k)}h.animate({left:0,top:0},l.speedOut,l.easeOut,function(){a(i?this:m).hide();if(g){g()}})})};a.extend(d.cssBefore,{display:"block",opacity:1,top:0,left:0})};a.fn.cycle.transitions.turnUp=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false);f.cssBefore.top=e.cycleH;f.animIn.height=e.cycleH;f.animOut.width=e.cycleW});b.cssFirst.top=0;b.cssBefore.left=0;b.cssBefore.height=0;b.animIn.top=0;b.animOut.height=0};a.fn.cycle.transitions.turnDown=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false);f.animIn.height=e.cycleH;f.animOut.top=g.cycleH});b.cssFirst.top=0;b.cssBefore.left=0;b.cssBefore.top=0;b.cssBefore.height=0;b.animOut.height=0};a.fn.cycle.transitions.turnLeft=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true);f.cssBefore.left=e.cycleW;f.animIn.width=e.cycleW});b.cssBefore.top=0;b.cssBefore.width=0;b.animIn.left=0;b.animOut.width=0};a.fn.cycle.transitions.turnRight=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true);f.animIn.width=e.cycleW;f.animOut.left=g.cycleW});a.extend(b.cssBefore,{top:0,left:0,width:0});b.animIn.left=0;b.animOut.width=0};a.fn.cycle.transitions.zoom=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,false,true);f.cssBefore.top=e.cycleH/2;f.cssBefore.left=e.cycleW/2;a.extend(f.animIn,{top:0,left:0,width:e.cycleW,height:e.cycleH});a.extend(f.animOut,{width:0,height:0,top:g.cycleH/2,left:g.cycleW/2})});b.cssFirst.top=0;b.cssFirst.left=0;b.cssBefore.width=0;b.cssBefore.height=0};a.fn.cycle.transitions.fadeZoom=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,false);f.cssBefore.left=e.cycleW/2;f.cssBefore.top=e.cycleH/2;a.extend(f.animIn,{top:0,left:0,width:e.cycleW,height:e.cycleH})});b.cssBefore.width=0;b.cssBefore.height=0;b.animOut.opacity=0};a.fn.cycle.transitions.blindX=function(d,e,c){var b=d.css("overflow","hidden").width();c.before.push(function(h,f,g){a.fn.cycle.commonReset(h,f,g);g.animIn.width=f.cycleW;g.animOut.left=h.cycleW});c.cssBefore.left=b;c.cssBefore.top=0;c.animIn.left=0;c.animOut.left=b};a.fn.cycle.transitions.blindY=function(d,e,c){var b=d.css("overflow","hidden").height();c.before.push(function(h,f,g){a.fn.cycle.commonReset(h,f,g);g.animIn.height=f.cycleH;g.animOut.top=h.cycleH});c.cssBefore.top=b;c.cssBefore.left=0;c.animIn.top=0;c.animOut.top=b};a.fn.cycle.transitions.blindZ=function(e,f,d){var c=e.css("overflow","hidden").height();var b=e.width();d.before.push(function(i,g,h){a.fn.cycle.commonReset(i,g,h);h.animIn.height=g.cycleH;h.animOut.top=i.cycleH});d.cssBefore.top=c;d.cssBefore.left=b;d.animIn.top=0;d.animIn.left=0;d.animOut.top=c;d.animOut.left=b};a.fn.cycle.transitions.growX=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true);f.cssBefore.left=this.cycleW/2;f.animIn.left=0;f.animIn.width=this.cycleW;f.animOut.left=0});b.cssBefore.top=0;b.cssBefore.width=0};a.fn.cycle.transitions.growY=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false);f.cssBefore.top=this.cycleH/2;f.animIn.top=0;f.animIn.height=this.cycleH;f.animOut.top=0});b.cssBefore.height=0;b.cssBefore.left=0};a.fn.cycle.transitions.curtainX=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,false,true,true);f.cssBefore.left=e.cycleW/2;f.animIn.left=0;f.animIn.width=this.cycleW;f.animOut.left=g.cycleW/2;f.animOut.width=0});b.cssBefore.top=0;b.cssBefore.width=0};a.fn.cycle.transitions.curtainY=function(c,d,b){b.before.push(function(g,e,f){a.fn.cycle.commonReset(g,e,f,true,false,true);f.cssBefore.top=e.cycleH/2;f.animIn.top=0;f.animIn.height=e.cycleH;f.animOut.top=g.cycleH/2;f.animOut.height=0});b.cssBefore.height=0;b.cssBefore.left=0};a.fn.cycle.transitions.cover=function(f,g,e){var i=e.direction||"left";var b=f.css("overflow","hidden").width();var c=f.height();e.before.push(function(j,d,h){a.fn.cycle.commonReset(j,d,h);if(i=="right"){h.cssBefore.left=-b}else{if(i=="up"){h.cssBefore.top=c}else{if(i=="down"){h.cssBefore.top=-c}else{h.cssBefore.left=b}}}});e.animIn.left=0;e.animIn.top=0;e.cssBefore.top=0;e.cssBefore.left=0};a.fn.cycle.transitions.uncover=function(f,g,e){var i=e.direction||"left";var b=f.css("overflow","hidden").width();var c=f.height();e.before.push(function(j,d,h){a.fn.cycle.commonReset(j,d,h,true,true,true);if(i=="right"){h.animOut.left=b}else{if(i=="up"){h.animOut.top=-c}else{if(i=="down"){h.animOut.top=c}else{h.animOut.left=-b}}}});e.animIn.left=0;e.animIn.top=0;e.cssBefore.top=0;e.cssBefore.left=0};a.fn.cycle.transitions.toss=function(e,f,d){var b=e.css("overflow","visible").width();var c=e.height();d.before.push(function(i,g,h){a.fn.cycle.commonReset(i,g,h,true,true,true);if(!h.animOut.left&&!h.animOut.top){a.extend(h.animOut,{left:b*2,top:-c/2,opacity:0})}else{h.animOut.opacity=0}});d.cssBefore.left=0;d.cssBefore.top=0;d.animIn.left=0};a.fn.cycle.transitions.wipe=function(s,m,e){var q=s.css("overflow","hidden").width();var j=s.height();e.cssBefore=e.cssBefore||{};var g;if(e.clip){if(/l2r/.test(e.clip)){g="rect(0px 0px "+j+"px 0px)"}else{if(/r2l/.test(e.clip)){g="rect(0px "+q+"px "+j+"px "+q+"px)"}else{if(/t2b/.test(e.clip)){g="rect(0px "+q+"px 0px 0px)"}else{if(/b2t/.test(e.clip)){g="rect("+j+"px "+q+"px "+j+"px 0px)"}else{if(/zoom/.test(e.clip)){var o=parseInt(j/2);var f=parseInt(q/2);g="rect("+o+"px "+f+"px "+o+"px "+f+"px)"}}}}}}e.cssBefore.clip=e.cssBefore.clip||g||"rect(0px 0px 0px 0px)";var k=e.cssBefore.clip.match(/(\d+)/g);var u=parseInt(k[0]),c=parseInt(k[1]),n=parseInt(k[2]),i=parseInt(k[3]);e.before.push(function(w,h,t){if(w==h){return}var d=a(w),b=a(h);a.fn.cycle.commonReset(w,h,t,true,true,false);t.cssAfter.display="block";var r=1,l=parseInt((t.speedIn/13))-1;(function v(){var y=u?u-parseInt(r*(u/l)):0;var z=i?i-parseInt(r*(i/l)):0;var A=n<j?n+parseInt(r*((j-n)/l||1)):j;var x=c<q?c+parseInt(r*((q-c)/l||1)):q;b.css({clip:"rect("+y+"px "+x+"px "+A+"px "+z+"px)"});(r++<=l)?setTimeout(v,13):d.css("display","none")})()});a.extend(e.cssBefore,{display:"block",opacity:1,top:0,left:0});e.animIn={left:0};e.animOut={left:0}}})(jQuery);
/*!
 * jQuery corner plugin: simple corner rounding
 * Examples and documentation at: http://jquery.malsup.com/corner/
 * version 2.12 (23-MAY-2011)
 * Requires jQuery v1.3.2 or later
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Dave Methvin and Mike Alsup
 */
(function(c){var a=document.createElement("div").style,h=a.MozBorderRadius!==undefined,j=a.WebkitBorderRadius!==undefined,e=a.borderRadius!==undefined||a.BorderRadius!==undefined,d=document.documentMode||0,l=c.browser.msie&&((c.browser.version<8&&!d)||d<8),i=c.browser.msie&&(function(){var n=document.createElement("div");try{n.style.setExpression("width","0+0");n.style.removeExpression("width")}catch(m){return false}return true})();c.support=c.support||{};c.support.borderRadius=h||j||e;function g(m,n){return parseInt(c.css(m,n))||0}function k(m){m=parseInt(m).toString(16);return(m.length<2)?"0"+m:m}function b(o){while(o){var m=c.css(o,"backgroundColor"),n;if(m&&m!="transparent"&&m!="rgba(0, 0, 0, 0)"){if(m.indexOf("rgb")>=0){n=m.match(/\d+/g);return"#"+k(n[0])+k(n[1])+k(n[2])}return m}if(o.nodeName.toLowerCase()=="html"){break}o=o.parentNode}return"#ffffff"}function f(o,m,n){switch(o){case"round":return Math.round(n*(1-Math.cos(Math.asin(m/n))));case"cool":return Math.round(n*(1+Math.cos(Math.asin(m/n))));case"sharp":return n-m;case"bite":return Math.round(n*(Math.cos(Math.asin((n-m-1)/n))));case"slide":return Math.round(n*(Math.atan2(m,n/m)));case"jut":return Math.round(n*(Math.atan2(n,(n-m-1))));case"curl":return Math.round(n*(Math.atan(m)));case"tear":return Math.round(n*(Math.cos(m)));case"wicked":return Math.round(n*(Math.tan(m)));case"long":return Math.round(n*(Math.sqrt(m)));case"sculpt":return Math.round(n*(Math.log((n-m-1),n)));case"dogfold":case"dog":return(m&1)?(m+1):n;case"dog2":return(m&2)?(m+1):n;case"dog3":return(m&3)?(m+1):n;case"fray":return(m%2)*n;case"notch":return n;case"bevelfold":case"bevel":return m+1;case"steep":return m/2+1;case"invsteep":return(n-m)/2+1}}c.fn.corner=function(m){if(this.length==0){if(!c.isReady&&this.selector){var n=this.selector,o=this.context;c(function(){c(n,o).corner(m)})}return this}return this.each(function(x){var v=c(this),E=[v.attr(c.fn.corner.defaults.metaAttr)||"",m||""].join(" ").toLowerCase(),L=/keep/.test(E),D=((E.match(/cc:(#[0-9a-f]+)/)||[])[1]),q=((E.match(/sc:(#[0-9a-f]+)/)||[])[1]),H=parseInt((E.match(/(\d+)px/)||[])[1])||10,F=/round|bevelfold|bevel|notch|bite|cool|sharp|slide|jut|curl|tear|fray|wicked|sculpt|long|dog3|dog2|dogfold|dog|invsteep|steep/,s=((E.match(F)||["round"])[0]),t=/dogfold|bevelfold/.test(E),r={T:0,B:1},A={TL:/top|tl|left/.test(E),TR:/top|tr|right/.test(E),BL:/bottom|bl|left/.test(E),BR:/bottom|br|right/.test(E)},I,O,G,J,z,P,C,M,K,y,N,Q,B,u;if(!A.TL&&!A.TR&&!A.BL&&!A.BR){A={TL:1,TR:1,BL:1,BR:1}}if(c.fn.corner.defaults.useNative&&s=="round"&&(e||h||j)&&!D&&!q){if(A.TL){v.css(e?"border-top-left-radius":h?"-moz-border-radius-topleft":"-webkit-border-top-left-radius",H+"px")}if(A.TR){v.css(e?"border-top-right-radius":h?"-moz-border-radius-topright":"-webkit-border-top-right-radius",H+"px")}if(A.BL){v.css(e?"border-bottom-left-radius":h?"-moz-border-radius-bottomleft":"-webkit-border-bottom-left-radius",H+"px")}if(A.BR){v.css(e?"border-bottom-right-radius":h?"-moz-border-radius-bottomright":"-webkit-border-bottom-right-radius",H+"px")}return}I=document.createElement("div");c(I).css({overflow:"hidden",height:"1px",minHeight:"1px",fontSize:"1px",backgroundColor:q||"transparent",borderStyle:"solid"});O={T:parseInt(c.css(this,"paddingTop"))||0,R:parseInt(c.css(this,"paddingRight"))||0,B:parseInt(c.css(this,"paddingBottom"))||0,L:parseInt(c.css(this,"paddingLeft"))||0};if(typeof this.style.zoom!=undefined){this.style.zoom=1}if(!L){this.style.border="none"}I.style.borderColor=D||b(this.parentNode);G=c(this).outerHeight();for(J in r){z=r[J];if((z&&(A.BL||A.BR))||(!z&&(A.TL||A.TR))){I.style.borderStyle="none "+(A[J+"R"]?"solid":"none")+" none "+(A[J+"L"]?"solid":"none");P=document.createElement("div");c(P).addClass("jquery-corner");C=P.style;z?this.appendChild(P):this.insertBefore(P,this.firstChild);if(z&&G!="auto"){if(c.css(this,"position")=="static"){this.style.position="relative"}C.position="absolute";C.bottom=C.left=C.padding=C.margin="0";if(i){C.setExpression("width","this.parentNode.offsetWidth")}else{C.width="100%"}}else{if(!z&&c.browser.msie){if(c.css(this,"position")=="static"){this.style.position="relative"}C.position="absolute";C.top=C.left=C.right=C.padding=C.margin="0";if(i){M=g(this,"borderLeftWidth")+g(this,"borderRightWidth");C.setExpression("width","this.parentNode.offsetWidth - "+M+'+ "px"')}else{C.width="100%"}}else{C.position="relative";C.margin=!z?"-"+O.T+"px -"+O.R+"px "+(O.T-H)+"px -"+O.L+"px":(O.B-H)+"px -"+O.R+"px -"+O.B+"px -"+O.L+"px"}}for(K=0;K<H;K++){y=Math.max(0,f(s,K,H));N=I.cloneNode(false);N.style.borderWidth="0 "+(A[J+"R"]?y:0)+"px 0 "+(A[J+"L"]?y:0)+"px";z?P.appendChild(N):P.insertBefore(N,P.firstChild)}if(t&&c.support.boxModel){if(z&&l){continue}for(Q in A){if(!A[Q]){continue}if(z&&(Q=="TL"||Q=="TR")){continue}if(!z&&(Q=="BL"||Q=="BR")){continue}B={position:"absolute",border:"none",margin:0,padding:0,overflow:"hidden",backgroundColor:I.style.borderColor};u=c("<div/>").css(B).css({width:H+"px",height:"1px"});switch(Q){case"TL":u.css({bottom:0,left:0});break;case"TR":u.css({bottom:0,right:0});break;case"BL":u.css({top:0,left:0});break;case"BR":u.css({top:0,right:0});break}P.appendChild(u[0]);var R=c("<div/>").css(B).css({top:0,bottom:0,width:"1px",height:H+"px"});switch(Q){case"TL":R.css({left:H});break;case"TR":R.css({right:H});break;case"BL":R.css({left:H});break;case"BR":R.css({right:H});break}P.appendChild(R[0])}}}}})};c.fn.uncorner=function(){if(e||h||j){this.css(e?"border-radius":h?"-moz-border-radius":"-webkit-border-radius",0)}c("div.jquery-corner",this).remove();return this};c.fn.corner.defaults={useNative:true,metaAttr:"data-corner"}})(jQuery);function initCssBrowserIdentifer(){if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var c=new Number(RegExp.$1);if(c>=3){document.getElementsByTagName("body")[0].className="ff3"}else{if(c>=2){document.getElementsByTagName("body")[0].className="ff2"}else{if(c>=1){document.getElementsByTagName("body")[0].className="ff1"}}}}else{if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var b=new Number(RegExp.$1);if(b>=8){document.getElementsByTagName("body")[0].className="ie8"}else{if(b>=7){document.getElementsByTagName("body")[0].className="ie7"}else{if(b>=6){document.getElementsByTagName("body")[0].className="ie6"}else{if(b>=5){document.getElementsByTagName("body")[0].className="ie5"}}}}}else{if(/Safari[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var a=new Number(RegExp.$1);if(a>=4){document.getElementsByTagName("body")[0].className="safari4"}else{if(a>=3){document.getElementsByTagName("body")[0].className="safari3"}else{if(a>=2){document.getElementsByTagName("body")[0].className="safari2"}else{if(a>=1){document.getElementsByTagName("body")[0].className="safari1"}}}}}else{if(/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var d=new Number(RegExp.$1);if(d>=10){document.getElementsByTagName("body")[0].className="opera10"}else{if(d>=9){document.getElementsByTagName("body")[0].className="opera9"}else{if(d>=8){document.getElementsByTagName("body")[0].className="opera8"}else{if(d>=7){document.getElementsByTagName("body")[0].className="opera7"}}}}}}}}}window.onload=initCssBrowserIdentifer;